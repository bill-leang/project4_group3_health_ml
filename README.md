# Project 4, Group 3 - Heart Health Indicators

[webpage](https://juntan.pythonanywhere.com/)

<p align="center">
<img src="https://hips.hearstapps.com/hmg-prod/images/766/early-signs-of-heart-problems-1517491990.jpg?resize=1024:*" width="100%">
</p>

## Table of Contents

1. [Collaborators](#collaborators)
2. [Introduction](#introduction)
3. [Project Brief](#project-brief)
4. [Explanation of features, languages, and tools](#features)
7. [Visualisations and dashboard preview](#visualisations)
8. [Conclusion](#conclusion)
9. [Data Sources](#data-sources)

## Collaborators

| <center>Contributors</center>    | <center>Github Profile</center>    |
| ----------------| -------------------------------------- |
| <center>Bich </center>      | [Github] https://github.com/thecodingshiba       |    
| <center>Oormi</center> |   [Github] https://github.com/OormiC            |
| <center>Jun</center>| [Github] https://github.com/bill-leang           |
| <center>Sujatha Sien</center>| [Github] https://github.com/Sujatha05             |
 
## Introduction:
Heart health is a very crucial subject that concerns us all. It's never too early or late to manage your risk of heart disease and improve your heart health. Furthermore, medical tests can be inaccessible to some and although it shouldn't replace professional medical advice, a model that can accurately predict heart attack risk based on inputted features can provide the user with a good starting point and urge users at risk to seek further medical advice to increase their heart health. 

## Project Brief
The objective of the study is to look at biological and circumstantial health indicators and analyse features such as age, BMI, family history and heart rate to build a model that can learn and classify the risk of heart attacks, based on user inputs. Subsequently, we aim to visualise the spread of heart attacks around the world. The research uses a dataset from Kaggle.

## Explanation of features, languages, and tools
In this project we outline the tools, language and libraries required to complete the project brief.
<br>

<img align="left" alt="Git" width="80px" style="padding-right:12px;" src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/git/git-original.svg" />
<img align="left" alt="GitHub" width="80px" style="padding-right:12px;" src="https://github.com/devicons/devicon/blob/v2.16.0/icons/github/github-original.svg" />
<img align="left" alt="Python" width="80x" style="padding-right:12px;" src="https://github.com/devicons/devicon/blob/v2.16.0/icons/python/python-original.svg" />
<img align="left" alt="Pandas" width="80px" style="padding-right:12px;" src="https://github.com/devicons/devicon/blob/v2.16.0/icons/pandas/pandas-original.svg" />
<img align="left" alt="Flask" width="80px" style="padding-right:12px;" img src="https://github.com/devicons/devicon/blob/v2.16.0/icons/flask/flask-original.svg" />
<img align="left" alt="VSCode" width="80px" style="padding-right:12px;" src="https://github.com/devicons/devicon/blob/v2.16.0/icons/vscode/vscode-original.svg" />
<img align="left" alt="Jupyter" width="80px" style="padding-right:12px;" src="https://github.com/devicons/devicon/blob/v2.16.0/icons/jupyter/jupyter-original.svg" />
<img align="left" alt="JavaScript" width="80px" style="padding-right:12px;" src="https://github.com/devicons/devicon/blob/v2.16.0/icons/javascript/javascript-original.svg" />
<img align="left" alt="Matplotlib" width="80px" style="padding-right:12px;" src="https://github.com/devicons/devicon/blob/v2.16.0/icons/matplotlib/matplotlib-plain.svg" />
<img align="left" alt="Bootstrap" width="80px" style="padding-right:12px;" src="https://github.com/devicons/devicon/blob/v2.16.0/icons/bootstrap/bootstrap-original.svg" />

<br><br><br><br><br><br><br>

### Back-end
<p align="center">
<img src="static\images\confusion_matrix.PNG" width="80%">
</p>
First, we used a Python Jupyter Notebook and then imported the 'RandomForestClassifier' model from sklearn before choosing our top features to include in the model and dropping the other columns. Then we used 'train_test_split' to split the X (features) and y (target) into training and testing sets. Then, we built the model with hyperparameters using 'GridSearch'and using our judgement as well as trial-and-error to create a random forest classifier model that included class-weights and a threshold to balance out the skewed dataset (which had a lot more 0 values than 1). Unfortunately, the dataset was too noisy and uncorrelated (due to it being generated by ChatGPT) for us to get our accuracy score past 64-65% and we had to have some trade-offs to increase the precision and recall scores by 10 times. 

### Front-end
We used Flask to build the framework on our app and HTML, CSS, JavaScript, and Bootstrap as our designing tools and libaries. The dashboard visualisations were accomplished through the use of Tableau, Matplotlib, and Seaborn. The dashboard has also been deployed on the cloud using Python Anywhere. 

## Visualisations and dashboard preview
<p align="center">
<img src="static\images\preview.png" width="100%">
</p>
This is a preview of our dashboard. The user is able to input their values either by typing them into the text-boxes or using the scroll feature above. Then, they click predict and are told whether they have a high or low heart attack risk based on their inputs. 

<p align="center">
<img src="static\images\prediction_preview.PNG" width="70%">
</p>
This is a preview of a positive prediction outcome where the user has a low heart attack risk based on their input. 

<p align="center">
<img src="static\images\sad_prediction_preview.PNG" width="70%">
</p>
This is a preview of a negative prediction outcome where the user has a high heart attack risk based on their input. Our dashboard also displays the following visualisations:


<p align="center">
<img src="static\images\Global Map View.png" width="100%">
</p>
This map visualisation allows us to see the top countries with the highest heart attack risk, based on the countries provided in the dataset. According to the data, Nigeria, Argentina, and Germany rank top three in the world for highest heart attack risk. 

<p align="center">
<img src="static\images\Continent.png" width="80%">
</p>
This a bar graph depicting how the continents rank against each other based on how many counts of high heart attack risk they each have. Asia is shown to have the highest heart attack risk count while Australia has the lowest. 

<p align="center">
<img src="static\images\Genderview.png" width="100%">
</p>
According to the data, males of all ages tend to have a higher heart attack risk. 

## Conclusion
We faced a few limitations during this project:
- As explained before, because the data was fictitious (generated by ChatGPT), it was quite noisy and had weak correlations, which impacted the accuracy of the model and hindered us from creating meaningful visualisations. 
- There were also a high number of false negatives in the data, which is very bad because that means that users with a high heart attack risk are being told that they actually have a low risk, which could be very dangerous for those individuals. 
- Overall, although the code for the model and associated visualisations would be good to replicate for other, better correlated datasets, we would not recommend using our model for serious self-diagnosis and would encourage professional medical opinions instead. 
- This model can be used to train on real datasets, and accuracy and precision will skyrocket. 

*Overall, this project has important applications to real world heart health research, innovation and education with consideration to patient specific information, lifestyle choices and socioeconomic factors.*

## Data Sources
https://www.kaggle.com/datasets/iamsouravbanerjee/heart-attack-prediction-dataset
https://scikit-learn.org/stable/
https://www.datacamp.com/tutorial/random-forests-classifier-python
https://towardsdatascience.com/hyperparameter-tuning-the-random-forest-in-python-using-scikit-learn-28d2aa77dd74
https://medium.com/@rithpansanga/improving-precision-and-recall-in-machine-learning-tips-and-techniques-acb5a5fd27a6

